<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>flowWithLifecycle</title>
<link href="../../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../../scripts/sourceset_dependencies.js" async></script>
<link href="../../styles/style.css" rel="Stylesheet">
<link href="../../styles/main.css" rel="Stylesheet">
<link href="../../styles/prism.css" rel="Stylesheet">
<link href="../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<link href="../../ui-kit/ui-kit.min.css" rel="Stylesheet">
<script type="text/javascript" src="../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../ui-kit/ui-kit.min.js" defer></script>
<script type="text/javascript" src="../../scripts/symbol-parameters-wrapper_deferred.js" defer></script></head>
<body>
    <div class="root">
    <nav class="navigation theme-dark" id="navigation-wrapper">
<a class="library-name--link" href="../../index.html">
                    solivagant
            </a>        <button class="navigation-controls--btn navigation-controls--btn_toc ui-kit_mobile-only" id="toc-toggle" type="button">Toggle table of contents
        </button>
        <div class="navigation-controls--break ui-kit_mobile-only"></div>
        <div class="library-version" id="library-version">
        </div>
        <div class="navigation-controls">
        <div class="filter-section filter-section_loading" id="filter-section">
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":lifecycle:dokkaHtmlPartial/commonMain">common</button>
            <div class="dropdown filter-section--dropdown" data-role="dropdown" id="filter-section-dropdown">
                <button class="button button_dropdown filter-section--dropdown-toggle" role="combobox" data-role="dropdown-toggle" aria-controls="platform-tags-listbox" aria-haspopup="listbox" aria-expanded="false" aria-label="Toggle source sets"></button>
                <ul role="listbox" id="platform-tags-listbox" class="dropdown--list" data-role="dropdown-listbox">
                    <div class="dropdown--header"><span>Platform filter</span>
                        <button class="button" data-role="dropdown-toggle" aria-label="Close platform filter">
                            <i class="ui-kit-icon ui-kit-icon_cross"></i>
                        </button>
                    </div>
                        <li role="option" class="dropdown--option platform-selector-option common-like" tabindex="0">
                            <label class="checkbox">
                                <input type="checkbox" class="checkbox--input" id=":lifecycle:dokkaHtmlPartial/commonMain" data-filter=":lifecycle:dokkaHtmlPartial/commonMain">
                                <span class="checkbox--icon"></span>
                                common
                            </label>
                        </li>
                </ul>
                <div class="dropdown--overlay"></div>
            </div>
        </div>
            <button class="navigation-controls--btn navigation-controls--btn_theme" id="theme-toggle-button" type="button">Switch theme
            </button>
            <div class="navigation-controls--btn navigation-controls--btn_search" id="searchBar" role="button">Search in
                API
            </div>
        </div>
    </nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="dropdown theme-dark_mobile" data-role="dropdown" id="toc-dropdown">
                    <ul role="listbox" id="toc-listbox" class="dropdown--list dropdown--list_toc-list" data-role="dropdown-listbox">
                        <div class="dropdown--header">
                            <span>
                                    solivagant
                            </span>
                            <button class="button" data-role="dropdown-toggle" aria-label="Close table of contents">
                                <i class="ui-kit-icon ui-kit-icon_cross"></i>
                            </button>
                        </div>
                        <div class="sidebar--inner" id="sideMenu"></div>
                    </ul>
                    <div class="dropdown--overlay"></div>
                </div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="member" id="content" pageids="lifecycle::com.hoc081098.solivagant.lifecycle//flowWithLifecycle/kotlinx.coroutines.flow.Flow[TypeParam(bounds=[kotlin.Any?])]#com.hoc081098.solivagant.lifecycle.Lifecycle#com.hoc081098.solivagant.lifecycle.Lifecycle.State/PointingToDeclaration//1553588475">
  <div class="breadcrumbs"><a href="../index.html">lifecycle</a><span class="delimiter">/</span><a href="index.html">com.hoc081098.solivagant.lifecycle</a><span class="delimiter">/</span><span class="current">flowWithLifecycle</span></div>
  <div class="cover ">
    <h1 class="cover"><span>flow</span><wbr><span>With</span><wbr><span><span>Lifecycle</span></span></h1>
  </div>
  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":lifecycle:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">fun </span><span class="token operator">&lt;</span><a href="flow-with-lifecycle.html">T</a><span class="token operator">&gt; </span><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a><span class="token operator">&lt;</span><a href="flow-with-lifecycle.html">T</a><span class="token operator">&gt;</span><span class="token punctuation">.</span><a href="flow-with-lifecycle.html"><span class="token function">flowWithLifecycle</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">lifecycle<span class="token operator">: </span><a href="-lifecycle/index.html">Lifecycle</a><span class="token punctuation">, </span></span><span class="parameter ">minActiveState<span class="token operator">: </span><a href="-lifecycle/-state/index.html">Lifecycle.State</a><span class="token operator"> = </span>Lifecycle.State.STARTED</span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a><span class="token operator">&lt;</span><a href="flow-with-lifecycle.html">T</a><span class="token operator">&gt;</span><span class="clearfix"><span class="floating-right">(<a href="https://github.com/hoc081098/solivagant/tree/master/lifecycle/src/commonMain/kotlin/com/hoc081098/solivagant/lifecycle/flowWithLifecycle.kt#L67">source</a>)</span></span></div><p class="paragraph">Flow operator that emits values from <code class="lang-kotlin">this</code> upstream Flow when the <a href="flow-with-lifecycle.html">lifecycle</a> is at least at <a href="flow-with-lifecycle.html">minActiveState</a> state. The emissions will be stopped when the lifecycle state falls below <a href="flow-with-lifecycle.html">minActiveState</a> state.</p><p class="paragraph">The flow will automatically start and cancel collecting from <code class="lang-kotlin">this</code> upstream flow as the <a href="flow-with-lifecycle.html">lifecycle</a> moves in and out of the target state.</p><p class="paragraph">If <a href="../../lifecycle/com.hoc081098.solivagant.lifecycle/index.html">this</a> upstream Flow completes emitting items, <code class="lang-kotlin">flowWithLifecycle</code> will trigger the flow collection again when the <a href="flow-with-lifecycle.html">minActiveState</a> state is reached.</p><p class="paragraph">This is NOT a terminal operator. This operator is usually followed by <a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/index.html">collect</a>, or <a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/index.html">onEach</a> and <a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/index.html">launchIn</a> to process the emitted values.</p><p class="paragraph">Note: this operator creates a hot flow that only closes when the <a href="flow-with-lifecycle.html">lifecycle</a> is destroyed or the coroutine that collects from the flow is cancelled.</p><p class="paragraph"><code class="lang-kotlin">flowWithLifecycle</code> cancels the upstream Flow when <a href="flow-with-lifecycle.html">lifecycle</a> falls below <a href="flow-with-lifecycle.html">minActiveState</a> state. However, the downstream Flow will be active without receiving any emissions as long as the scope used to collect the Flow is active. As such, please take care when using this function in an operator chain, as the order of the operators matters. For example, <code class="lang-kotlin">flow1.flowWithLifecycle(lifecycle).combine(flow2)</code> behaves differently than <code class="lang-kotlin">flow1.combine(flow2).flowWithLifecycle(lifecycle)</code>. The former continues to combine both flows even when <a href="flow-with-lifecycle.html">lifecycle</a> falls below <a href="flow-with-lifecycle.html">minActiveState</a> state whereas the combination is cancelled in the latter case.</p><p class="paragraph">Warning: <a href="-lifecycle/-state/-i-n-i-t-i-a-l-i-z-e-d/index.html">Lifecycle.State.INITIALIZED</a> is not allowed in this API. Passing it as a parameter will throw an <a href="https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-illegal-argument-exception/index.html">IllegalArgumentException</a>.</p><p class="paragraph">Tip: If multiple flows need to be collected using <code class="lang-kotlin">flowWithLifecycle</code>, consider using the <a href="repeat-on-lifecycle.html">Lifecycle.repeatOnLifecycle</a> API to collect from all of them using a different <a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/index.html">launch</a> per flow instead. That's more efficient and consumes less resources as no hot flows are created.</p><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph"><a href="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html">Flow</a> that only emits items from <code class="lang-kotlin">this</code> upstream flow when the <a href="flow-with-lifecycle.html">lifecycle</a> is at least in the <a href="flow-with-lifecycle.html">minActiveState</a>.</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":lifecycle:dokkaHtmlPartial/commonMain" data-filterable-set=":lifecycle:dokkaHtmlPartial/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>lifecycle</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The <a href="-lifecycle/index.html">Lifecycle</a> where the restarting collecting from <code class="lang-kotlin">this</code> flow work will be kept alive.</p></div></div></div></div><div class="table-row" data-filterable-current=":lifecycle:dokkaHtmlPartial/commonMain" data-filterable-set=":lifecycle:dokkaHtmlPartial/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>min</span><wbr><span>Active</span><wbr><span><span>State</span></span></u></div></span></div><div><div class="title"><p class="paragraph"><a href="-lifecycle/-state/index.html">Lifecycle.State</a> in which the upstream flow gets collected. The collection will stop if the lifecycle falls below that state, and will restart if it's in that state again.</p></div></div></div></div></div></div></div>
</div>
    <div class="footer">
        <a href="#content" id="go-to-top-link" class="footer--button footer--button_go-to-top"></a>
        <span>© 2025 Copyright</span>
        <span class="pull-right">
            <span>Generated by </span>
            <a class="footer--link footer--link_external" href="https://github.com/Kotlin/dokka">
                <span>dokka</span>
            </a>
        </span>
    </div>
            </div>
        </div>
    </div>
</body>
</html>
